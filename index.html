<!DOCTYPE html>
<html>
<head>
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    {% comment %} <script src="https://widget.cloudpayments.ru/bundles/cloudpayments"></script> {% endcomment %}

</head>
<body>

<script type="text/javascript" src="https://auth.robokassa.ru/Merchant/bundle/robokassa_iframe.js"></script>
<input type="submit" value="Оплатить" onclick="Robokassa.StartPayment({
			MerchantLogin: 'admin',
			OutSum: '11.00',
			Description: 'Оплата заказа в Тестовом магазине ROBOKASSA',
			shp_Item: '1',
			Culture: 'ru', 
			Encoding: 'utf-8',
			SignatureValue: '3925b771e47d405cbcbb492daa936824'})">
{% comment %}     
<script>
var widget = new cp.CloudPayments();
this.pay = function () {
    widget.pay('auth', // или 'charge'
        { //options
            publicId: 'test_api_00000000000000000000001', //id из личного кабинета
            description: 'Оплата товаров в example.com', //назначение
            amount: 100, //сумма
            currency: 'RUB', //валюта
            invoiceId: '1234567', //номер заказа  (необязательно)
            accountId: 'user@example.com', //идентификатор плательщика (необязательно)
            skin: "mini", //дизайн виджета (необязательно)
            data: {
                myProp: 'myProp value'
            }
        },
        {
            onSuccess: function (options) { // success
                //действие при успешной оплате
            },
            onFail: function (reason, options) { // fail
                //действие при неуспешной оплате
            },
            onComplete: function (paymentResult, options) { //Вызывается как только виджет получает от api.cloudpayments ответ с результатом транзакции.
                //например вызов вашей аналитики Facebook Pixel
            }
        }
    )
};
</script> {% endcomment %}
</body>
</html>

